<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Xem phim online miễn phí chất lượng cao - PhimHD</title>
    <meta name="description" content="Xem phim online HD vietsub, thuyết minh miễn phí. Kho phim đa dạng với hàng ngàn bộ phim mới nhất được cập nhật liên tục." />
    <meta name="keywords" content="phim hay, xem phim, phim vietsub, phim thuyết minh, phim HD" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#e11d48" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="PhimHD" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Xem phim online miễn phí chất lượng cao - PhimHD" />
    <meta property="og:description" content="Xem phim online HD vietsub, thuyết minh miễn phí. Kho phim đa dạng với hàng ngàn bộ phim mới nhất được cập nhật liên tục." />
    <meta property="og:site_name" content="PhimHD" />
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:image" content="/icon-512.svg" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Xem phim online miễn phí chất lượng cao - PhimHD" />
    <meta name="twitter:description" content="Xem phim online HD vietsub, thuyết minh miễn phí. Kho phim đa dạng với hàng ngàn bộ phim mới nhất được cập nhật liên tục." />

    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/icon-192.png" />
    
    <!-- Ultra-minimal theme preload for slow PCs -->
    <script>
      // Fastest possible theme preload for slow PCs
      (function(){
        var defaultTheme={primaryColor:"#e11d48",fontFamily:"Be Vietnam Pro",language:"vi"};
        function applyTheme(theme){
          var root=document.documentElement;
          var color=theme.primaryColor;
          if(color){
            // Simplified hex to HSL conversion
            var r=parseInt(color.slice(1,3),16)/255;
            var g=parseInt(color.slice(3,5),16)/255;
            var b=parseInt(color.slice(5,7),16)/255;
            var max=Math.max(r,g,b);
            var min=Math.min(r,g,b);
            var h=0,s=0,l=(max+min)/2;
            if(max!==min){
              var d=max-min;
              s=l>0.5?d/(2-max-min):d/(max+min);
              if(max===r)h=((g-b)/d+(g<b?6:0))/6;
              else if(max===g)h=((b-r)/d+2)/6;
              else if(max===b)h=((r-g)/d+4)/6;
            }
            var hsl=Math.round(h*360)+" "+Math.round(s*100)+"% "+Math.round(l*100)+"%";
            root.style.setProperty("--primary",hsl);
            root.style.setProperty("--ring",hsl);
            root.style.setProperty("--sidebar-primary",hsl);
            root.style.setProperty("--cinema-red",hsl);
            
            // Create gradient from primary color
            var hslParts=hsl.split(' ');
            var hNum=parseFloat(hslParts[0]);
            var sNum=parseFloat(hslParts[1]);
            var lNum=parseFloat(hslParts[2]);
            var lighterHsl=hNum+" "+sNum+" "+Math.min(lNum+10,90)+"%";
            var darkerHsl=hNum+" "+sNum+" "+Math.max(lNum-10,20)+"%";
            var gradient="linear-gradient(135deg, "+lighterHsl+" 0%, "+darkerHsl+" 100%)";
            root.style.setProperty("--gradient-primary",gradient);
            
            var meta=document.querySelector('meta[name="theme-color"]');
            if(meta)meta.content=color;
          }
          root.style.setProperty("--font-family","'"+theme.fontFamily+"', sans-serif");
          document.body.style.fontFamily="'"+theme.fontFamily+"', sans-serif";
          root.lang=theme.language;
        }
        try{
          var saved=localStorage.getItem('theme-settings');
          if(saved){
            var theme=JSON.parse(saved);
            applyTheme(theme);
            window.preloadedTheme=theme;
            return;
          }
        }catch(e){}
        applyTheme(defaultTheme);
        window.preloadedTheme=defaultTheme;
      })();
    </script>
    
    <!-- Inline critical CSS to prevent flash -->
    <style>
      :root {
        --primary: 0 91% 54%;
        --ring: 0 91% 54%;
        --sidebar-primary: 0 91% 54%;
        --cinema-red: 0 91% 54%;
        --font-family: 'Be Vietnam Pro', sans-serif;
      }
      
      body {
        font-family: var(--font-family);
        opacity: 0;
        transition: opacity 0.1s ease-in;
      }
      
      body.loaded {
        opacity: 1;
      }
    </style>
    
    <!-- Preload font with minimal blocking -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GCTLBMEHRG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GCTLBMEHRG');
</script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Show content immediately after theme is applied
      setTimeout(function(){
        document.body.classList.add('loaded');
      }, 50);
    </script>
  </body>
</html>
